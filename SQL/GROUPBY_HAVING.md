## SQL문 실행순서

```
5 : SELECT
1 : FROM
2 : WHERE
3 : GROUP BY
4 : HAVING
6 : ORDER BY
```

### ORDER BY
* SELECT한 컬럼을 가지고 정렬할 때 사용
* ORDER BY 컬럼명 | 컬럼 별칭 | 컬럼나열순번 [ASC] | DESC
* SELECT 안 컬럼 순서로 정렬할 수 있음
* NULLS FIRST 기입 시 NULL값이 제일 앞에 출력됨

### GROUP BY
* 여러 개의 값을 묶어서 하나로 처리할 목적으로 사용
* GROUP BY 절에는 그룹함수가 올 수 없음

### HAVING
* 그룹함수로 구해 올 그룹에 대해 조건을 설정할 때 사용

### ROLLUP
* 집계함수로 그룹 별 산출한 결과 값의 집계 계산
* 그룹 별로 중간 집계 처리
* 인자로 전달 받은 것 중에서 가장 먼저 지정한 인자에 대해 그룹별 중간 집계

```MYSQL
SELECT DEPT_CODE, JOB_CODE, SUM(SALARY)
FROM EMPLOYEE
GROUP BY ROLLUP(DEPT_CODE, JOB_CODE)
ORDER BY DEPT_CODE;

// 실행결과 :
D1	J6	6440000
D1	J7	1380000
D1		7820000
D2	J4	6520000
D2		6520000
D5	J3	3500000
D5	J5	8460000
D5	J7	3800000
D5		15760000
D6	J3	7300000
D6	J4	2800000
D6		10100000
D8	J6	6986240
D8		6986240
D9	J1	8000000
D9	J2	9700000
D9		17700000
	J6	2320000
	J7	2890000
		5210000
		70096240
```

### CUBE
* 집계함수로 그룹 별 산출한 결과 값의 집계 계산
* 그룹 별로 중간 집계 처리
* 인자로 전달 받은 것 모두에 대해 그룹별 중간 집계

```MYSQL
SELECT DEPT_CODE, JOB_CODE, SUM(SALARY)
FROM EMPLOYEE
GROUP BY CUBE(DEPT_CODE, JOB_CODE)
ORDER BY DEPT_CODE;

// 실행결과 :
D1	J6	6440000
D1	J7	1380000
D1		7820000
D2	J4	6520000
D2		6520000
D5	J3	3500000
D5	J5	8460000
D5	J7	3800000
D5		15760000
D6	J3	7300000
D6	J4	2800000
D6		10100000
D8	J6	6986240
D8		6986240
D9	J1	8000000
D9	J2	9700000
D9		17700000
	J1	8000000
	J2	9700000
	J3	10800000
	J4	9320000
	J5	8460000
	J6	2320000
	J6	15746240
	J7	2890000
	J7	8070000
		5210000
		70096240
```

### GROUPING
* ROLLUP이나 CUBE에 의한 산출물이 인자로 전달받은 컬럼의 산출물이면 0 반환, 아니면 1 반환

```MYSQL
SELECT DEPT_CODE, JOB_CODE, SUM(SALARY),
        GROUPING(DEPT_CODE) 부서별그룹묶인상태,
        GROUPING(JOB_CODE) 직급별그룹묶인상태
FROM EMPLOYEE
GROUP BY ROLLUP(DEPT_CODE, JOB_CODE)
ORDER BY DEPT_CODE;

// 실행결과 :
D1	J6	6440000	0	0
D1	J7	1380000	0	0
D1		7820000	0	1
D2	J4	6520000	0	0
D2		6520000	0	1
D5	J3	3500000	0	0
D5	J5	8460000	0	0
D5	J7	3800000	0	0
D5		15760000	0	1
D6	J3	7300000	0	0
D6	J4	2800000	0	0
D6		10100000	0	1
D8	J6	6986240	0	0
D8		6986240	0	1
D9	J1	8000000	0	0
D9	J2	9700000	0	0
D9		17700000	0	1
	J6	2320000	0	0
	J7	2890000	0	0
		5210000	0	1
		70096240	1	1
```

## 집합 연산자

여러 개의 SELECT 결과물을 하나의 쿼리로 만드는 연산자

### UNION
* 여러 개의 쿼리 결과를 합치는 연산자로 중복된 영역은 제외하여 합침
* 합집합
* OR

### UNION ALL
* 여러 쿼리 결과를 합치는 연산자로 중복된 영역 모두 포함하여 합침
* OR + AND
* 합집합 + 교집합
* 중복된 부분이 두번 포함

### INTERSECT
* 여러 개의 SELECT 결과에서 공통된 부분만 결과로 추출
* 교집합
* AND

### MINUS
* 선행 SELECT 결과에서 다음 SELECT 결과와 겹치는 부분을 제외한 나머지 부분 추출
* 차집합

### GROUPING SETS
* 그룹 별로 처리된 여러 개의 SELECT문을 하나로 합친 결과를 원할 때 사용
* 집합 연산자 사용과 동일

